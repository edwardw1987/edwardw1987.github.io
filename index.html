
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Performance</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.bootcss.com/echarts/4.0.4/echarts.min.js"></script>
</head>
<body>
    <div id="main" style="width: 80%;height:800px; padding-top: 60px; margin-left: 200px;"></div>

    <script>
        data = {
             "8000": [
              null, 
              1828, 
              7337, 
              985, 
              3200, 
              831, 
              null, 
              736, 
              777, 
              1110, 
              816, 
              713, 
              null, 
              6761, 
              503, 
              610, 
              1409, 
              676
             ], 
             "443": [
              1813, 
              1016, 
              null, 
              1130, 
              4657, 
              2153, 
              46902, 
              null, 
              null, 
              1534, 
              1461, 
              827, 
              1120, 
              null, 
              1328, 
              1169, 
              3191, 
              1806
             ], 
             "xAxis": [
              "/Chassis/1/NetworkAdapters/slot-3", 
              "/Systems/1/Processors/1", 
              "/Systems/1/LogServices/AuditLog/Entries/", 
              "/Systems/1/PCIeDevices/ob_1", 
              "/Systems/1/", 
              "/Chassis/1/Power/", 
              "/Systems/1/LogServices/StandardLog/Entries/", 
              "/Chassis/1/NetworkAdapters/slot_3", 
              "/Systems/1/PCIeFunctions/ob_1.0", 
              "/Managers/1/", 
              "/Systems/1/EthernetInterfaces/NIC1", 
              "/Systems/1/NetworkInterfaces/1", 
              "/Systems/1/PCIeFunctions/ob_1.00", 
              "/Systems/1/LogServices/EventLog/Entries/", 
              "/Systems/1/Memory/1", 
              "/Systems/1/EthernetInterfaces/ToManager", 
              "/Chassis/1/", 
              "/Systems/1/LogServices/ActiveLog/Entries/"
             ]
            }
            var myChart = echarts.init(document.getElementById('main'));
            var option = {
                title: {
                    text: '',
                    textStyle: {
                        //文字颜色
                        color: 'black',
                        //字体风格,'normal','italic','oblique'
                        fontStyle: 'normal',
                        //字体粗细 'normal','bold','bolder','lighter',100 | 200 | 300 | 400...
                        fontWeight: 'bold',
                        //字体系列
                        fontFamily: 'sans-serif',
                        //字体大小
                        　　　　fontSize: 20
                    }
                },
                tooltip: {
                    trigger: 'axis'
                },
                legend: {
                    data: ["443", "8000"]
                },
                toolbox: {
                    show: true,
                    orient: 'horizontal', // 布局方式，默认为水平布局，可选为：
                    // 'horizontal' ¦ 'vertical'
                    x: 'right', // 水平安放位置，默认为全图右对齐，可选为：
                    // 'center' ¦ 'left' ¦ 'right'
                    // ¦ {number}（x坐标，单位px）
                    y: 'top', // 垂直安放位置，默认为全图顶端，可选为：
                    // 'top' ¦ 'bottom' ¦ 'center'
                    // ¦ {number}（y坐标，单位px）
                    color: ['#1e90ff', '#22bb22', '#4b0082', '#d2691e'],
                    backgroundColor: 'rgba(0,0,0,0)', // 工具箱背景颜色
                    borderColor: '#ccc', // 工具箱边框颜色
                    borderWidth: 0, // 工具箱边框线宽，单位px，默认为0（无边框）
                    padding: 5, // 工具箱内边距，单位px，默认各方向内边距为5，
                    showTitle: true,
                    feature: {
                        mark: {
                            show: true,
                            title: {
                                mark: '辅助线-开关',
                                markUndo: '辅助线-删除',
                                markClear: '辅助线-清空'
                            },
                            lineStyle: {
                                width: 1,
                                color: '#1e90ff',
                                type: 'dashed'
                            }
                        },
                        dataView: {
          how: true,
                            title: 'data view',
                            readOnly: true,
                            lang: ['data view', 'close', 'refresh'],
                            optionToContent: function(opt) {
                                var axisData = opt.xAxis[0].data;
                                var series = opt.series;
                                var table = '<table style="width:100%;text-align:center"><tbody><tr>' + '<td></td>' + '<td>' + series[0].name + '</td>' + '<td>' + series[1].name + '</td>' + '</tr>';
                                for (var i = 0, l = axisData.length; i < l; i++) {
                                    table += '<tr>' + '<td>' + axisData[i] + '</td>' + '<td>' + series[0].data[i] + '</td>' + '<td>' + series[1].data[i] + '</td>' + '</tr>';
                                }
                                table += '</tbody></table>';
                                return table;
                            }
                        },
                        magicType: {
                            show: true,
                            title: {
                                bar: '柱形图',
                                stack: '堆积',
                                tiled: '平铺'
                            },
                            type: ['bar', 'stack', 'tiled']
                        },
                        restore: {
                            show: true,
                            title: '还原',
                            color: 'black'
                        },
                        saveAsImage: {
                            show: true,
                            title: '保存为图片',
                            type: 'jpeg',
                            lang: ['点击本地保存']
                        },
                        myTool: {
                            show: true,
                            title: '自定义扩展方法',
                            icon: 'image://../asset/ico/favicon.png',
                            onclick: function() {
                                alert('myToolHandler')
                            }
                        }
                    }
                },
                calculable: true,
                // dataZoom : {
                //     show : true,
                //     realtime : true,
                //     start : 20,
                //     end : 80
                // },
                xAxis:
                // [
                {
                    type: 'value',
                    minInterval: 1,
                    boundaryGap: false,
                    axisLabel:{
                        formatter: function(val, index) {
                            return val + 'ms';
                        }
                    }

                },
                // ],
                yAxis: [{
                    // offset: -500,
                    data: data.xAxis,
                    type: 'category',
                    axisLabel:{  
                        interval: 0 ,
                        rotate:0 
                    }  
                }],
                grid: { // 控制图的大小，调整下面这些值就可以，
                     x: 330,
                     x2: 100,
                     y2: 150,// y2可以控制 X轴跟Zoom控件之间的间隔，避免以为倾斜后造成 label重叠到zoom上
                 }
             }
            function initSeries(data) {
                var ret = [
                    {   
                        barWidth: 11,
                        name: "443",
                        type: "bar",
                        data: data[443],
                        itemStyle: {
                            normal: {
                                label: {
                                    show: true,
                                    position: 'right',
                                    formatter: function(c) {
                                        return c.data == 0 ? '' : c.data + 'ms'
                                    }
                                }
                            }
                        },
                    },
                    {
                        barWidth: 11,
                        name: "8000",
                        type: "bar",
                        data: data[8000],
                        itemStyle: {
                            normal: {
                                label: {
                                    show: true,
                                    position: 'right',
                                    formatter: function(c) {
                                        return c.data == 0 ? '' : c.data + 'ms'
                                    }
                                }
                            }
                        },
                    },
                ];

                return ret
            }
            option['series'] = initSeries(data)
            myChart.setOption(option);
    </script>

</body>
</html>
